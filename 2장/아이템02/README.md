# ì•„ì´í…œ 2. ìƒì„±ìì— ë§¤ê°œ ë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼.
## ë¬¸ì œì . í´ë˜ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë§¤ê°œ ë³€ìˆ˜ê°€ ë„ˆë¬´ ë§ë‹¤.

### ìƒì„±ì, ì •ì  íŒ©í„°ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
#### 1. ì•„ì´ë””ì–´

- ì ì¸µì  ìƒì„±ì íŒ¨í„´ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

- ì ì¸µì  ìƒì„±ì íŒ¨í„´ì´ë€ ê°„ë‹¨íˆ ë§í•´ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”©ì„ ì‚¬ìš©í•˜ì—¬ ìƒì„±ìë¥¼ ë§ì´ ë§Œë“¤ì–´ë‘ëŠ” ê²ƒì´ë‹¤.

#### 2. ë‹¨ì 

- ê°€ë…ì„±ì´ ë–¨ì–´ì§„ë‹¤.
- ì›í•˜ì§€ ì•ŠëŠ” ë§¤ê°œë³€ìˆ˜ë„ ì§€ì •í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.
- ë‹¤ë¥¸ ì‚¬ëŒì´ ì „ë‹¬í•˜ëŠ” ì¸ìˆ˜ì˜ ìˆœì„œë¥¼ ë°”ê¿”ë„ íƒ€ì…ì´ ê°™ìœ¼ë©´ ì•Œì•„ì±„ê¸°ê°€ ì–´ë µë‹¤.
- ì ì¸µì  ìƒì„±ì íŒ¨í„´ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

- ì ì¸µì  ìƒì„±ì íŒ¨í„´ì´ë€ ê°„ë‹¨íˆ ë§í•´ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”©ì„ ì‚¬ìš©í•˜ì—¬ ìƒì„±ìë¥¼ ë§ì´ ë§Œë“¤ì–´ë‘ëŠ” ê²ƒì´ë‹¤.

<br>

### ìë°” ë¹ˆì¦ˆ íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
#### 1. ì•„ì´ë””ì–´

- ì ì¸µì  ìƒì„±ì íŒ¨í„´ì´ë€ ê°„ë‹¨íˆ ë§í•´ ë©”ì„œë“œ ì˜¤ë²„ë¡œë”©ì„ ì‚¬ìš©í•˜ì—¬ ìƒì„±ìë¥¼ ë§ì´ ë§Œë“¤ì–´ë‘ëŠ” ê²ƒì´ë‹¤.

#### 2. ë‹¨ì 

- í•„ìš”í•œ í•„ë“œì˜ setter ë©”ì†Œë“œê°€ ì „ë¶€ í•„ìš”í•˜ë‹¤.

- ëˆ„êµ°ê°€ ê°’ì„ ì„ì˜ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

- ê°ì²´ê°€ ì™„ì „íˆ ìƒì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì´ë‹¤.
    - ì˜ˆë¥¼ ë“¤ì–´ í•„ìˆ˜ ê°’ì´ ë“¤ì–´ìˆì–´ì•¼ í•˜ëŠ”ë° í•„ìˆ˜ ê°’ì´ ì—†ëŠ” ì‹œì ì´ ìƒê²¨ë²„ë¦°ë‹¤.
    
- ë””ë²„ê¹…ì´ ì–´ë µë‹¤.

<br>

### ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°

#### 1. ì•„ì´ë””ì–´
- í´ë˜ìŠ¤ ì•ˆì— static Builder í´ë˜ìŠ¤ë¥¼ ë‚´ë¶€ í´ë˜ìŠ¤ë¡œ ìƒì„±í•œë‹¤.
- ë‚´ë¶€ í´ë˜ìŠ¤ì—ëŠ” builderë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ë“œì— ê°’ì„ ë„£ì–´ì¤€ë‹¤.

- build ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

#### 2. ì¥ì 
- í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ë§Œ ê³¨ë¼ì„œ ì¸ìˆ˜ë¥¼ ì „ë‹¬ í•´ ì¤„ ìˆ˜ ìˆë‹¤.
- build ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ìœ ì§€ëœë‹¤.
- ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ì— ì–´ë–¤ ì¸ìˆ˜ë¥¼ ë„£ëŠ”ì§€ í™•ì¸í•˜ê¸°ê°€ ì‰¬ì›Œ ê°€ë…ì„±ì´ ë†’ì•„ì§„ë‹¤.

- ë¹Œë” íŒ¨í„´ì€ ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤ì™€ í•¨ê»˜ ì“°ê¸° ì¢‹ë‹¤.

#### 3. ë‹¨ì 
- ë³µì¡í•œ ë¹Œë” í´ë˜ìŠ¤ë¥¼ ë§¤ë²ˆ ì‘ì„±í•´ì¤˜ì•¼ í•œë‹¤.

    > **ğŸ“Œ ì°¸ê³ **<br>
    > ìë°”ì—ì„œ Builder íŒ¨í„´ì˜ ë‹¨ì ì€ Lombokìœ¼ë¡œ í•´ê²°ê°€ëŠ¥í•˜ë‹¤!

<br>
<hr>

## ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•œ ì˜ˆì œ
- í´ë˜ìŠ¤ êµ¬ì¡°

    > ğŸ“Œ **ì°¸ê³ **
    >
    > -   Pizza í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ë¡œ NyPizzaì™€ Calzone ê°€ ìˆë‹¤.

<br>

- Pizza í´ë˜ìŠ¤

    ```java
    public abstract class Pizza {
        public enum Topping {HAM, MUSHROOM, ONION, PEPPER, SAUSAGE}

        final Set<Topping> toppings;

        Pizza(Builder<?> builder) {
            // toppings = builder.toppings.clone();
            toppings = EnumSet.copyOf(builder.toppings);
        }

        abstract static class Builder<T extends Builder<T>> {
            EnumSet<Topping> toppings = EnumSet.noneOf(Topping.class);

            public T addTopping(Topping topping) {
                toppings.add(Objects.requireNonNull(topping));
                return self();
            }

            abstract Pizza build();

            // í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ì´ ë©”ì„œë“œë¥¼ ì¬ì •ì˜í•˜ì—¬
            // "this"ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.
            protected abstract T self();
        }
    }
    ```
    > ğŸ“Œ **ìƒì„±ìì—ì„œ EnumSet.copyOf()ë¥¼ ì“°ëŠ” ì´ìœ ?**
    >
    > - ì±…ì—ì„œëŠ” cloneì„ ì‚¬ìš©í–ˆì§€ë§Œ EnumSet.copyOfì´ë¼ëŠ” APIê°€ ìˆìœ¼ë©° EnumSet.copyOfëŠ” ë‚´ë¶€ì ìœ¼ë¡œ cloneì„ ì‚¬ìš©í•œë‹¤.
    > -  copyOfë¥¼ ì“°ëŠ” ì´ìœ ëŠ” Pizza ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ builderì˜ í† í•‘ì´ ë³€ê²½ë˜ë©´ Pizzaì˜ í† í•‘ë„ ë³€ê²½ë˜ëŠ” ê±¸ ë§‰ê¸° ìœ„í•´ì„œì´ë‹¤.

<br>

- NyPizza í´ë˜ìŠ¤

    ```java
    public class NyPizza extends Pizza {

        public enum Size {SMALL, MEDIUM, LARGE,}

        private final Size size;

        // ìì‹ í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” privateë¡œ ìˆ¨ê¸°ê³ 
        // ë¹Œë” íŒ¨í„´ë§Œ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•œë‹¤.
        private NyPizza(Builder builder) {
            super(builder);
            size = builder.size;
        }

        // builder í´ë˜ìŠ¤ë¥¼ newí•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•œë‹¤.
        public static class Builder extends Pizza.Builder<Builder> {
            private final Size size;

            public Builder(Size size) {
                this.size = Objects.requireNonNull(size);
            }

            @Override
            public NyPizza build() {
                return new NyPizza(this);
            }

            @Override
            protected Builder self() {
                return this;
            }
        }
    }
    ```

<br>

- Calzone í´ë˜ìŠ¤

    ```java
    public class Calzone extends Pizza {
        private final boolean sauceInside;

        // ìì‹ í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” privateë¡œ ìˆ¨ê¸°ê³ 
        // ë¹Œë” íŒ¨í„´ë§Œ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ì œí•œí•œë‹¤.
        private Calzone(Builder builder) {
            super(builder);
            sauceInside = builder.sauceInside;
        }

        // builder í´ë˜ìŠ¤ë¥¼ newí•˜ì—¬ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•œë‹¤.
        public static class Builder extends Pizza.Builder<Builder> {
            private boolean sauceInside = false;

            // ë¹Œë”ë¥¼ ì‚¬ìš©í•˜ì—¬ Calzone í´ë˜ìŠ¤ì˜ í•„ë“œì— ê°’ì„ ë„£ì–´ì£¼ëŠ” ë©”ì†Œë“œ
            public Builder sauceInside() {
                sauceInside = true;
                return this;
            }

            @Override
            public Calzone build() {
                return new Calzone(this);
            }

            @Override
            protected Builder self() {
                return this;
            }
        }
    }
    ```
<br>

<br>
<hr>

## ì¶”ê°€ í•™ìŠµ
### Lombokì—ì„œ ë¹Œë” ì‚¬ìš©í•˜ê¸°


- @Builder ì–´ë…¸í…Œì´ì…˜

    > ğŸ“Œ **@Builderì˜ ì†ì„±ë“¤**
    > 
    > - String builderMethodName() default "builder"
    >    - ë¹Œë”ì— ì ‘ê·¼í•˜ëŠ” static ë©”ì†Œë“œì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
    > - String buildMethodName() default "build"
    >    - ë¹Œë”ì˜ ë¹Œë“œ ë©”ì†Œë“œì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
    > - String builderClassName() default ""
    >    - new Class.builderClassName() ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œë° ì´ë¥¼ ì»¤ìŠ¤í…€ í•œë‹¤.
    > - boolean toBuilder() default false
    >    - ì´ë¯¸ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ê³  toBuilderë¥¼ ì‚¬ìš©í•´ì„œ ë˜ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê²Œ í• ì§€ ì—¬ë¶€
    > - AccessLevel access() default lombok.AccessLevel.PUBLIC
    >    - ë¹Œë”ì˜ ì ‘ê·¼ ë ˆë²¨ì„ ì œí•œ
    >    - ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ì•„ë‹Œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ê°€ ë‚˜ë²„ë¦°ë‹¤.
    > - String setterPrefix() default ""
    >    - ë¹Œë”ì—ì„œ íŒŒë¼ë¯¸í„° ì…ë ¥ ì‹œ setter í•  ë•Œ ë©”ì†Œë“œì— ì ‘ë‘ì–´ ë¶™ì¼ì§€ ì—¬ë¶€
    >    - setterPrefix = "set" ì¼ ë•Œ Member.builder().setName().setAge().build(); ì´ë ‡ê²Œ ì“¸ ìˆ˜ ìˆë‹¤.
    
<br>

- Builder ì„ ì–¸í•˜ê¸°
    
    ```java
    @Getter
    public class Member {
        private String name;
        private int age;
        private boolean isActive = true;

        @Builder(toBuilder = true)
        public Member(String name, int age, boolean isActive) {
            this.name = name;
            this.age = age;
            this.isActive = isActive;
        }

        @Builder(builderMethodName = "customBuilder")
        public Member(String name, int age) {
            this.name = name;
            this.age = age;
        }

        @Builder(builderClassName = "ByName", builderMethodName = "byName")
        public Member(String name) {
            this.name = name;
            this.age = age;
        }
    }
    ```
    
<br>

- í…ŒìŠ¤íŠ¸ ì½”ë“œ
    
    ```java
    class MemberTest {

        @Test
        @DisplayName("Lombokì˜ Builderë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°")
        void newInstanceWithBuilderTest() {
            Member member = Member.builder()
                .name("admin")
                .age(10)
                .isActive(true)
                .build();

            assertThat(member.getName()).isEqualTo("admin");
            assertThat(member.getAge()).isEqualTo(10);
            assertThat(member.isActive()).isTrue();
        }

        @Test
        @DisplayName("Lombokì˜ customBuilderMethodë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°")
        void newInstanceWithCustomBuilderMethodTest() {
            Member member = Member.customBuilder()
                .name("admin")
                .age(10)
                .build();

            assertThat(member.getName()).isEqualTo("admin");
            assertThat(member.getAge()).isEqualTo(10);
            assertThat(member.isActive()).isFalse();
        }

        @Test
        @DisplayName("Lombokì˜ customBuilderClassNameë¥¼ ì‚¬ìš©í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°")
        void newInstanceWithCustomBuilderClassTest() {
            Member member = new Member.ByName()
                .name("admin")
                .build();

            assertThat(member.getName()).isEqualTo("admin");
        }

        @Test
        @DisplayName("Lombokì˜ toBuilder ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í™œìš©í•´ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•˜ê¸°")
        void newInstanceWithToBuilderTest() {
            Member admin = new Member.ByName()
                .name("admin")
                .build();

            Member userFromAdmin = admin.toBuilder()
                .name("user")
                .build();

            assertThat(admin.getName()).isEqualTo("admin");
            assertThat(userFromAdmin.getName()).isEqualTo("user");
        }
    }
    ```
    
<br>

- @Builder.Default, @Builder.ObtainVia

    > ğŸ“Œ **@Builder.Default ì‚¬ìš© ì‹œ ì°¸ê³ ì‚¬í•­**
    > 
    > - ë¹Œë”ë¥¼ ì‚¬ìš©í•  ë•Œ ê¸°ë³¸ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.
    > - í´ë˜ìŠ¤ ë ˆë²¨ì— ì ìš©ë˜ì–´ì•¼ í•œë‹¤.
    > - ì´ê²ƒ ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤ë©´ ëŸ°íƒ€ì„ ì‹œì ì— í™•ì¸ëœë‹¤.

    <br>

    > ğŸ“Œ **@Builder.ObtainVia(field = "name") ì‚¬ìš© ì‹œ ì°¸ê³ ì‚¬í•­**
    > 
    > - ë¹Œë”ë¥¼ ì‚¬ìš©í•  ë–„ íŠ¹ì • í•„ë“œì˜ ê°’ì„ ë‹¤ë¥¸ fieldë‚˜ ë©”ì†Œë“œë¡œ ë§Œë“¤ì–´ì„œ ê°’ì„ ì£¼ì…í•´ì¤€ë‹¤.
    > - toBuilder = true ì„¤ì •ì„ í•´ ì¤˜ì•¼ í•œë‹¤.
    > - ë¹Œë” ìƒì„± ì‹œ toBuilder ë©”ì†Œë“œë¥¼ ê±°ì³ì•¼ í•œë‹¤.
    >    - Car car = Car.builder().build().toBuilder().build();

<br>

- @Builder.Default, @Builder.ObtainVia ì„ ì–¸í•˜ê¸°
    
    ```java
    @Getter
    @Builder(toBuilder = true)
    public class Car {
        @Builder.Default
        private String brand = "benz";

        @Builder.Default
        private String color = "black";

        @Builder.Default
        private String name = "myCar";

        @Builder.ObtainVia(field = "name")
        private String obtainViaField;

        @Builder.ObtainVia(method = "generate")
        private String obtainViaMethod;

        private String generate() {
            return brand + "&" + color;
        }
    }
    ```
    
<br>

- í…ŒìŠ¤íŠ¸ ì½”ë“œ
    
    ```java
    class CarTest {

        @Test
        @DisplayName("@Builder.Defaultë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸°")
        void builderDefaultTest() {
            Car car = Car.builder()
                .build();

            assertThat(car.getBrand()).isEqualTo("benz");
            assertThat(car.getColor()).isEqualTo("black");
            assertThat(car.getName()).isEqualTo("myCar");
        }

        @Test
        @DisplayName("@Builder.ObtainViaë¥¼ ì‚¬ìš©í•˜ì—¬ ê°’ ê°€ì ¸ì˜¤ë¥¼ ")
        void builderObtainViaë¥¼Test() {
            Car car = Car.builder()
                .build()
                .toBuilder()
                .build();

            assertThat(car.getBrand()).isEqualTo("benz");
            assertThat(car.getColor()).isEqualTo("black");
            assertThat(car.getName()).isEqualTo("myCar");
            assertThat(car.getObtainViaField()).isEqualTo("myCar");
            assertThat(car.getObtainViaMethod()).isEqualTo("benz&black");
        }
    }
    ```
    [lombok ê¸°ëŠ¥ ì‚´í´ë³´ê¸°](https://projectlombok.org/api/lombok/package-summary)

<br>
<br>

### Objectsì™€ Assert í´ë˜ìŠ¤
- ObjectsëŠ” ìë°”ì—ì„œ ì§€ì›í•˜ëŠ” ìœ íš¨ì„± ì²´í¬ í´ë˜ìŠ¤ì´ë‹¤.

- Assert í´ë˜ìŠ¤ëŠ” ìŠ¤í”„ë§ì—ì„œ ì§€ì›í•˜ëŠ” ìœ íš¨ì„± ì²´í¬ í´ë˜ìŠ¤ì´ë‹¤.

    > ğŸ“Œ **Objectsë‚˜ Assertì˜ APIë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ?**
    > 
    > - ìœ íš¨í•˜ì§€ ì•Šì€ ë°ì´í„°ê°€ ì…ë ¥ë˜ì—ˆì„ ë•Œ ë¹ ë¥´ê²Œ ì˜ˆì™¸ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
    > - ë”°ë¼ì„œ ì–´ë””ì„œ ì—ëŸ¬ê°€ ë‚¬ëŠ”ì§€ ë””ë²„ê¹…í•˜ê¸°ê°€ ì‰½ë‹¤.


<br>
<br>

### finalê³¼ ë¶ˆë³€

- finalì´ë€?

    > ğŸ“Œ **finalì´ë€?**
    > 
    > - finalì´ë€ ê°’ì„ ì¬í• ë‹¹ í•˜ëŠ” ê²ƒì„ ê¸ˆì§€í•˜ëŠ” ê²ƒì´ë‹¤.

<br>

-  ì½”ë“œ ì˜ˆì‹œ

    ```java
    class MyClass {
        // names í•„ë“œëŠ” ë¶ˆë³€ì´ ì•„ë‹ˆë‹¤!
        // list ë‚´ë¶€ê°€ ë°”ë€” ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.
        private final List<String> names;
    }
    ```

<br>

### ë¶ˆë³€ê°ì²´ì™€ ë¶ˆë³€ì‹

- ë¶ˆë³€ê°ì²´ë€?

    > ğŸ“Œ **ë¶ˆë³€ê°ì²´ë€?**
    > 
    > - ë¶ˆë³€ê°ì²´ë€ í•œë²ˆ ë§Œë“¤ì–´ì§€ë©´ ì ˆëŒ€ ê°’ì„ ë°”ê¿€ ìˆ˜ ì—†ëŠ” ê°ì²´ë¥¼ ì˜ë¯¸í•œë‹¤.
    > - ëŒ€í‘œì ì¸ ì˜ˆë¡œ String í´ë˜ìŠ¤ê°€ ìˆë‹¤.

<br>

- ë¶ˆë³€ì‹ì´ë€?

    > ğŸ“Œ **ë¶ˆë³€ê°ì²´ë€?**
    > 
    > - ë¶ˆë³€ì‹ì´ë€ ë³€ê²½ì„ í•  ìˆ˜ëŠ” ìˆìœ¼ë‚˜, ì •í•´ì§„ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.
    > - ì˜ˆë¥¼ë“¤ì–´ ë¦¬ìŠ¤íŠ¸ì˜ í¬ê¸°ëŠ” ë°˜ë“œì‹œ 0 ì´ìƒì´ì–´ì•¼ í•œë‹¤.

<br>

- ë¶ˆë³€ì˜ ì¥ì ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë¸”ë¡œê·¸

    [ë¶ˆë³€ì˜ ì¥ì  ì‚´í´ë³´ê¸°](https://www.leadingagile.com/2018/03/immutable-in-java/)

<br>

- ìë°”ì—ì„œ ë¶ˆë³€ ì»¬ë ‰ì…˜ ë§Œë“¤ê¸° ì˜ˆì œ (List í™œìš©)

    ```java
    List<Integer> immutableList1 = List.of(1, 2, 3, 4);
    ```
    
    <br>

    ```java
    List<Integer> list = new ArrayList<>();
    list.add(1);
    list.add(2);

    List<Integer> integers = Collections.unmodifiableList(list);
    ```
<br>

- ìë°”ì—ì„œ ë¶ˆë³€ ì»¬ë ‰ì…˜ ë§Œë“œëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•

    [ë¶ˆë³€ ì»¬ë ‰ì…˜ ë§Œë“œëŠ” ë°©ë²• ì‚´í´ë³´ê¸°](https://javagoal.com/immutable-collection-in-java/)
<br>
<br>

### ë¹Œë”ë¥¼ ì´ìš©í•œ ì—”í‹°í‹° ìˆ˜ì •

<br>

- ì•„ì´ë””ì–´
    - í”„ë¡ íŠ¸ì—ì„œ â€œìˆ˜ì •í•œ ë°ì´í„°ë§Œâ€ ë³´ë‚´ì£¼ê³  ë‚˜ë¨¸ì§€ëŠ” nullë¡œ ë³´ë‚´ì£¼ëŠ” ê²½ìš°ë¥¼ í•´ê²°í•˜ê³  ì‹¶ë‹¤.
    
    - ì—”í‹°í‹°ë¡œë¶€í„° ë¹Œë”ë¥¼ ë§Œë“¤ì–´ì„œ ê°’ì„ ìˆ˜ì •í•œë‹¤.

<br>

- í”„ë¡œì„¸ìŠ¤
    - EditDTOë¡œ í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ìˆ˜ì • í•  ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.
    - ì—”í‹°í‹°ë¥¼ ì¡°íšŒ í›„ ì—”í‹°í‹°ë¥¼ EditorBuilderë¡œ ë§Œë“ ë‹¤.
    - EditerBuilderì— ìˆ˜ì •í•œ ê°’ì„ ë„£ëŠ”ë‹¤.
    
    - ì—”í‹°í‹°ì— Editorë¥¼ ë„˜ê²¨ì„œ ê°’ì„ ê°±ì‹ í•´ì¤€ë‹¤.

<br>

- ì¥ì 
    - í”„ë¡ íŠ¸ì—ì„œ â€œìˆ˜ì •í•œ ë°ì´í„°ë§Œâ€ ë³´ë‚´ì£¼ëŠ” ê²½ìš°ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
    - ë§Œì•½ ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê°±ì‹ ë˜ë©´ ì•ˆë˜ëŠ” ê°’ì´ nullë¡œ ë°”ë€ŒëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆëŠ”ë° ê·¸ê²ƒì„ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
    
    - ê·¸ë¦¬ê³  ë³€ê²½ë˜ë©´ ì•ˆë˜ëŠ” ë°ì´í„°ì— ëŒ€í•œ null ì²´í¬ ê°™ì€ ìœ íš¨ì„± ì²´í¬ë¥¼ EditorBuilderì— ìœ„ì„í•  ìˆ˜ ìˆë‹¤.

<br>

- ë‹¨ì 
    - ì„¤ê³„í•˜ê¸° ë³µì¡í•˜ë‹¤.
    - ë³€ê²½í•´ì•¼ ë  í•„ë“œê°€ ì¶”ê°€ë˜ë©´ EditDTO, Editor, EditorBuilderì— ì½”ë“œë¥¼ ì¶”ê°€ ì‘ì„±í•´ì•¼ í•˜ë¯€ë¡œ ê·€ì°®ë‹¤.
    
    - ë¡¬ë³µì˜ @Builderë¥¼ ì“°ëŠ” ê²ƒì´ ì•„ë‹ˆë¯€ë¡œ ë¡¬ë³µì˜ ì´ì ì´ ì‚¬ë¼ì§„ë‹¤.
<br>

#### ì˜ˆì œ ì½”ë“œ
- Board (ì—”í‹°í‹°)
    - DBì˜ í…Œì´ë¸”ê³¼ ì—°ê´€ë˜ëŠ” ì—”í‹°í‹°ì´ë‹¤.
    - ì—”í‹°í‹°ë¥¼ EditorBuilderë¡œ ë³€í™˜í•˜ëŠ” ë©”ì†Œë“œ ì„ ì–¸
    
    - Editorë¥¼ ë°›ì•„ ì—”í‹°í‹°ì˜ ë‚´ìš©ì„ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œ ì„ ì–¸

    <br>

    ```java
    @Getter
    @Builder // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë¹Œë” ì„ ì–¸í•˜ì˜€ê³  ì‹¤ì œë¡œëŠ” ì—†ì–´ë„ ë¨
    public class Board {

        private String title;
        private String content;

        public BoardEditor.BoardEditorBuilder toBuilder() {
            return BoardEditor.builder()
                .title(title)
                .content(content);
        }

        public void edit(BoardEditor boardEditor) {
            this.title = boardEditor.getTitle();
            this.content = boardEditor.getContent();
        }
    }
    ```

<br>

- BoardEdit (ìˆ˜ì • DTO)
    - í”„ë¡ íŠ¸ë¡œë¶€í„° ìˆ˜ì •í•  ê°’ì„ ë°›ëŠ” DTOì´ë‹¤.

    <br>

    ```java
    @Getter
    @Builder // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ë¹Œë” ì„ ì–¸í•˜ì˜€ê³  ì‹¤ì œë¡œëŠ” ì—†ì–´ë„ ë¨
    public class BoardEdit {

        private String title;
        private String content;
    }
    ```

<br>

- BoardEditor (ìˆ˜ì •ì„ ìœ„í•œ DTO)
    - ì—”í‹°í‹°ì˜ ê°’ì„ ë³€ê²½í•˜ê¸° ìœ„í•´ ì¤‘ê°„ì—ì„œ ì—­í• ì„ í•˜ëŠ” Editorì´ë‹¤.

    - BoardEditorBuilderë¥¼ ì„ ì–¸í•˜ê³  ê° í•„ë“œë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì†Œë“œì— null ì²´í¬ê°™ì€ ìœ íš¨ì„± ì²´í¬ë¥¼ ë„£ì–´ì¤€ë‹¤.

    <br>

    ```java
    @Getter
    public class BoardEditor {

        private String title;
        private String content;

        public BoardEditor(String title, String content) {
            this.title = title;
            this.content = content;
        }

        public static BoardEditorBuilder builder() {
            return new BoardEditorBuilder();
        }

        public static class BoardEditorBuilder {
            private String title;
            private String content;

            BoardEditorBuilder() {
            }

            public BoardEditorBuilder title(String title) {
                if (title != null) {
                    this.title = title;
                }
                return this;
            }

            public BoardEditorBuilder content(String content) {
                if (content != null) {
                    this.content = content;
                }
                return this;
            }

            public BoardEditor build() {
                return new BoardEditor(this.title, this.content);
            }

            public String toString() {
                return "BoardEditor.BoardEditorBuilder(title=" + this.title + ", content=" + this.content + ")";
            }
        }
    }
    ```

<br>

- í…ŒìŠ¤íŠ¸ ì½”ë“œ
    <br>

    ```java
    class BoardTest {

        private Board board;
        private final String ORIGINAL_TITLE = "ë³€ê²½ ì „ ì œëª©";
        private final String ORIGINAL_CONTENT = "ë³€ê²½ ì „ ì œëª©";
        private final String EDITED_TITLE = "ë³€ê²½ í›„ ì œëª©";
        private final String EDITED_CONTENT = "ë³€ê²½ í›„ ì œëª©";

        @BeforeEach
        void init() {
            board = Board.builder()
                .title(ORIGINAL_TITLE)
                .content(ORIGINAL_CONTENT)
                .build();
        }

        @Test
        @DisplayName("ì œëª©, ê¸€ ë‚´ìš©ì„ ëª¨ë‘ ìˆ˜ì •í•  ë•Œ")
        void editTitleAndContentTest() {
            // given
            BoardEdit boardEdit = BoardEdit.builder()
                .title(EDITED_TITLE)
                .content(EDITED_CONTENT)
                .build();

            BoardEditor.BoardEditorBuilder builder = board.toBuilder();

            // when
            BoardEditor boardEditor = builder.title(boardEdit.getTitle())
                .content(boardEdit.getContent())
                .build();

            board.edit(boardEditor);

            // then
            assertThat(board.getTitle()).isEqualTo(EDITED_TITLE);
            assertThat(board.getContent()).isEqualTo(EDITED_CONTENT);
        }

        @Test
        @DisplayName("ì œëª©ë§Œ ìˆ˜ì •í•  ë•Œ")
        void editTitleTest() {
            // given
            BoardEdit boardEdit = BoardEdit.builder()
                .title(null)
                .content(EDITED_CONTENT)
                .build();

            BoardEditor.BoardEditorBuilder builder = board.toBuilder();

            // when
            BoardEditor boardEditor = builder.title(boardEdit.getTitle())
                .content(boardEdit.getContent())
                .build();

            board.edit(boardEditor);

            // then
            assertThat(board.getTitle()).isEqualTo(ORIGINAL_TITLE);
            assertThat(board.getContent()).isEqualTo(EDITED_CONTENT);
        }

        @Test
        @DisplayName("ê¸€ ë‚´ìš©ë§Œ ìˆ˜ì •í•  ë•Œ")
        void editContentTest() {
            // given
            BoardEdit boardEdit = BoardEdit.builder()
                .title(EDITED_CONTENT)
                .content(null)
                .build();

            BoardEditor.BoardEditorBuilder builder = board.toBuilder();

            // when
            BoardEditor boardEditor = builder.title(boardEdit.getTitle())
                .content(boardEdit.getContent())
                .build();

            board.edit(boardEditor);

            // then
            assertThat(board.getTitle()).isEqualTo(EDITED_TITLE);
            assertThat(board.getContent()).isEqualTo(ORIGINAL_CONTENT);
        }

        @Test
        @DisplayName("ì œëª©, ê¸€ ë‚´ìš© ìˆ˜ì •í•˜ì§€ ì•Šì„ ë•Œ")
        void doseNotEditTest() {
            // given
            BoardEdit boardEdit = BoardEdit.builder()
                .title(null)
                .content(null)
                .build();

            BoardEditor.BoardEditorBuilder builder = board.toBuilder();

            // when
            BoardEditor boardEditor = builder.title(boardEdit.getTitle())
                .content(boardEdit.getContent())
                .build();

            board.edit(boardEditor);

            // then
            assertThat(board.getTitle()).isEqualTo(ORIGINAL_CONTENT);
            assertThat(board.getContent()).isEqualTo(ORIGINAL_CONTENT);
        }
    }
    ```