# ì•„ì´í…œ 11. equalsë¥¼ ì¬ì •ì˜í•˜ë ¤ê±°ë“  hashcodeë„ ì¬ì •ì˜í•˜ë¼

### equalsë¥¼ ì¬ì •ì˜í•œ í´ë˜ìŠ¤ ëª¨ë‘ì—ì„œ hashcodeë„ ì¬ì •ì˜í•´ì•¼ í•œë‹¤.
- ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ hashcode ì¼ë°˜ ê·œì•½ì„ ì–´ê¸°ê²Œ ë˜ì–´ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ HashMapì´ë‚˜ HashSet ê°™ì€ ì»¬ë ‰ì…˜ì˜ ì›ì†Œë¡œ ì‚¬ìš©í•  ë•Œ ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤.
- ë‹¤ìŒì€ Object ëª…ì„¸ì—ì„œ ë°œì·Œí•œ ê·œì•½ì´ë‹¤.

    > ğŸ“Œ **hashcode ê·œì•½**
    >
    > - equals ë¹„êµì— ì‚¬ìš©ë˜ëŠ” ì •ë³´ê°€ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ê·¸ ê°ì²´ì˜ hashCode ë©”ì„œë“œëŠ” ëª‡ ë²ˆì„ í˜¸ì¶œí•´ë„ ì¼ê´€ë˜ê²Œ í•­ìƒ ê°™ì€ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤. ë‹¨ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë‹¤ì‹œ ì‹¤í–‰í•œë‹¤ë©´ ì´ ê°’ì´ ë‹¬ë¼ì ¸ë„ ìƒê´€ì—†ë‹¤.
    >
    > - equals(Object)ê°€ ë‘ ê°ì²´ë¥¼ ê°™ë‹¤ê³  íŒë‹¨í–ˆë‹¤ë©´, ë‘ ê°ì²´ì˜ hashCodeëŠ” ë˜‘ê°™ì€ ê°’ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.
    >
    > - equals(Object)ê°€ ë‘ ê°ì²´ë¥¼ ë‹¤ë¥´ë‹¤ê³  íŒë‹¨ í–ˆë”ë¼ë„ ë‘ ê°ì²´ì˜ hashCodeê°€ ì„œë¡œ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•  í•„ìš”ëŠ” ì—†ë‹¤. ë‹¨ ë‹¤ë¥¸ ê°ì²´ì— ëŒ€í•´ì„œëŠ” ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•´ì•¼ í•´ì‹œ í…Œì´ë¸”ì˜ ì„±ëŠ¥ì´ ì¢‹ì•„ì§„ë‹¤.

### ì¢‹ì€ í•´ì‹œì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•
1. int ë³€ìˆ˜ resultë¥¼ ì„ ì–¸í•œ í›„ cë¡œ ì´ˆê¸°í™”í•œë‹¤.
 
2. í•´ë‹¹ ê°ì²´ì˜ ë‚˜ë¨¸ì§€ í•µì‹¬ í•„ë“œ f ê°ê°ì— ëŒ€í•´ ë‹¤ìŒ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.
    - ê¸°ë³¸ íƒ€ì… í•„ë“œë¼ë©´ Type.hashCode(f)ë¥¼ ìˆ˜í–‰í•œë‹¤.
  
        ```java
        Integer.hashCode(20);

        Boolean.hashCode(true);

        Byte.hashCode(Byte.MAX_VALUE);

        Arrays.hashCode(new String[] {"val1", "val2"});

        ```

    - ì°¸ì¡° íƒ€ì… í•„ë“œë©´ì„œ ì´ í´ë˜ìŠ¤ì˜ equals ë©”ì„œë“œê°€ ì´ í•„ë“œì˜ equalsë¥¼ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•´ ë¹„êµí•œë‹¤ë©´, ì´ í•„ë“œì˜ hashCodeë¥¼ ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•œë‹¤. ì´ í•„ë“œì˜ í‘œì¤€í˜•ì„ ë§Œë“¤ì–´ ê·¸ í‘œì¤€í˜•ì˜ hashCodeë¥¼ ì‚¬ìš©í•œë‹¤.
      - í•„ë“œì˜ ê°’ì´ nullì´ë©´ 0ì„ ì‚¬ìš©í•œë‹¤.
    
    - í•„ë“œê°€ ë°°ì—´ì´ë¼ë©´, í•µì‹¬ ì›ì†Œ ê°ê°ì„ ë³„ë„ í•„ë“œì²˜ëŸ¼ ë‹¤ë£¬ë‹¤. ì´ìƒì˜ ê·œì¹™ì„ ì¬ê·€ì ìœ¼ë¡œ ì ìš©í•´ ê° í•µì‹¬ ì›ì†Œì˜ í•´ì‹œì½”ë“œë¥¼ ê³„ì‚°í•œ ë‹¤ìŒ 3ë²ˆ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤. ëª¨ë“  ì›ì†Œê°€ í•µì‹¬ ì›ì†Œë¼ë©´ Arrays.hashcodeë¥¼ ì‚¬ìš©í•œë‹¤.
  
3. result = 31 * result + c;
4. resultë¥¼ ë°˜í™˜í•œë‹¤.

    > ğŸ“Œ **hashcode ë§Œë“¤ê¸° ê°„ë‹¨ ì •ë¦¬!**
    >
    > - í•´ì‹œì½”ë“œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°ì´í„°ëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ í•µì‹¬ í•„ë“œì˜ ê°’ì„ ì‚¬ìš©í•˜ì—¬ ê³„ì‚°í•œë‹¤.
    >
    > - í•µì‹¬ í•„ë“œê°€ ì•„ë‹Œ íŒŒìƒ í•„ë“œëŠ” í•´ì‹œì½”ë“œ ê³„ì‚°ì—ì„œ ì œì™¸í•œë‹¤.
    > - equals ë¹„êµì— ì‚¬ìš©ë˜ì§€ ì•Šì€ í•„ë“œëŠ” "ë°˜ë“œì‹œ" ì œì™¸í•œë‹¤.
    >   - ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ hashCodeì˜ ê·œì•½ ì¤‘ 2ë²ˆì„ ì–´ê¸°ëŠ” ê²ƒì´ë‹¤.

    <br>

    [ì™œ 31ì„ ì‚¬ìš©í• ê¹Œ?](https://velog.io/@indongcha/hashCode%EC%99%80-31)

    <br>

### í•´ì‹œì½”ë“œì˜ ìƒì„± ë¹„ìš©ì´ ë°”ì‹¸ë‹¤ë©´ ìºì‹±ì„ í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- ì•„ë˜ëŠ” hashCode ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ì¬ê³„ì‚° í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ìºì‹±í•´ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ˆì œì´ë‹¤.

    ```java
    private int hashCode;

    @Override
    public int hashCode() {
        int result = hashcode;

        if(result == 0) {
            // í•´ì‹œ ì½”ë“œ ê³„ì‚°..
        }

        return result;
    }
    
    ```

    > ğŸ“Œ **hashcode ìƒì„± ì‹œ ì£¼ì˜ì **
    >
    > - hashCode ìƒì„± ë¹„ìš©ì´ ë¹„ì‹¸ë‹¤ê³  í•´ì„œ í•µì‹¬ í•„ë“œë¥¼ ë¹¼ê³  ê³„ì‚°í•˜ë©´ ì•ˆëœë‹¤.
    >
    > - hashCodeë¥¼ ë°˜í™˜í•˜ëŠ” ê°’ì˜ ìƒì„± ê·œì¹™ì„ API ì‚¬ìš©ìì—ê²Œ ìì„¸íˆ ê³µí‘œí•˜ì§€ ë§ì.
    >   - ê·¸ë˜ì•¼ í´ë¼ì´ì–¸íŠ¸ê°€ ì´ ê°’ì— ì˜ì§€í•˜ì§€ ì•Šê²Œ ë˜ê³ , ì¶”í›„ì— ê³„ì‚° ë°©ì‹ì„ ë°”ê¿€ ìˆ˜ë„ ìˆë‹¤.

    <br>

    > ğŸ“Œ **Lombokì˜ @EqualsAndHashCodeë¥¼ ì‚¬ìš©í•  ë•Œ ì£¼ì˜ì **
    >
    > - hashCodeëŠ” ë…¼ë¦¬ì ìœ¼ë¡œ í•µì‹¬ í•„ë“œë¡œë§Œ ê³„ì‚°í•˜ëŠ” ê²ƒì´ ê¶Œì¥ëœë‹¤.
    >   - ì˜ˆë¥¼ ë“¤ì–´ ê° entityì˜ id ê°’ì´ ìˆë‹¤.
    >
    > - ê·¸ëŸ¬ë‚˜ Lombokì˜ @EqualsAndHashCodeì—ì„œëŠ” í´ë˜ìŠ¤ ì•ˆì— ì„ ì–¸ëœ ëª¨ë“  í•„ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ hashCodeë¥¼ ê³„ì‚°í•œë‹¤. 
    >
    > - ì´ ê²½ìš° 2ê°€ì§€ ë‹¨ì ì„ ìƒê°í•  ìˆ˜ ìˆë‹¤.
    >   - íŒŒìƒ í•„ë“œê¹Œì§€ í¬í•¨í•˜ì—¬ hashCodeë¥¼ ê³„ì‚°í•˜ë¯€ë¡œ ë¹„íš¨ìœ¨ ì ì´ë‹¤.
    >   - ë…¼ë¦¬ì ìœ¼ë¡œ ë™ì¼í•œ ê°ì²´ë¡œ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì— íŒŒìƒ í•„ë“œê°€ í¬í•¨ë˜ì§€ ì•ŠëŠ” ê²½ìš°, ë…¼ë¦¬ì ìœ¼ë¡œ ê°™ì€ ê°ì²´ì„ì—ë„ hashCodeê°€ ë‹¤ë¥´ê²Œ ê³„ì‚°ë  ìˆ˜ ìˆë‹¤.


<br>

### ê·¸ë ‡ë‹¤ë©´ HashMapì€ hashcodeë¥¼ ì–´ë–»ê²Œ í™œìš©í•˜ëŠ” ê²ƒì¼ê¹Œ?
- HashMapì—ì„œëŠ” ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ëœ í•´ì‹œí•¨ìˆ˜ì™€ keyì˜ hashCode ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  keyì˜ í•´ì‹œê°’ì„ ê³„ì‚°í•œë‹¤.
  
- ëª¨ë“  ê°’ì— ëŒ€í•´ í•´ì‹œê°’ì„ ë‹¤ë¥´ê²Œ ë¶€ì—¬í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ HashMapì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•œë‹¤.
  
  - ë¶„ë¦¬ ì—°ê²°ë²• & ë³´ì¡° í•´ì‹œí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
  - ë¶„ë¦¬ ì—°ê²°ë²•ì—ì„œëŠ” í•´ì‹œ ë²„í‚·ì´ë¼ëŠ” ê°œë…ì„ ì‚¬ìš©í•˜ê³  ë³´ì¡° í•´ì‹œí•¨ìˆ˜ë¡œëŠ” HashMap í´ë˜ìŠ¤ ì•ˆì— êµ¬í˜„ë˜ì–´ìˆë‹¤.


    [ìë°” 7ì—ì„œ HashMapì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?](https://d2.naver.com/helloworld/831311)

    [ìë°” 17ì—ì„œ HashMapì€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ê°€?](https://howtodoinjava.com/java/collections/hashmap/how-hashmap-works-in-java/)

    [ìë°” 17ì—ì„œ HashMapì˜ ë‚´ë¶€êµ¬ì¡°](https://howtodoinjava.com/java/collections/hashmap/how-hashmap-works-in-java/)

    ```java
    public static void main(String[] args) {
		// key1ê³¼ key2ëŠ” í•´ì‹œì½”ë“œê°€ 2112ë¡œ ë™ì¼í•˜ë‹¤.
		// ê·¸ëŸ°ë° HashMapì—ì„œëŠ” ì–´ë–»ê²Œ ê°™ì€ í•´ì‹œì½”ë“œë¥¼ ê°€ì§€ëŠ”
		// 2ê°œì˜ ê°’ì„ ê°ê¸° ë‹¤ë¥¸ í‚¤ë¡œ êµ¬ë¶„í•˜ëŠ” ê²ƒì¼ê¹Œ?
		String key1 = "Aa";
		String key2 = "BB";

        // hashcode = 2112
		System.out.println("key1.hashCode() = " + key1.hashCode()); 

        // hashcode = 2112
		System.out.println("key2.hashCode() = " + key2.hashCode());

		HashMap<String, String> map = new HashMap<>();

		map.put(key1, "val1");
		map.put(key2, "val2");

		System.out.println(map.size()); // size = 2
	}
    ```