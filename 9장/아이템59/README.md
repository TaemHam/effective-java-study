# 아이템 59. 라이브러리를 익히고 사용하라

## 라이브러리를 익히자!

- 예를 들어 무작위 정수를 1개 생성하고 싶다고 하자.

- 만약 적절한 라이브러리가 없다면 다음과 같이 메서드를 작성해야 할 것 이다.

```java
static Random rnd = new Random();

static int random(int n) {
    return Math.abs(rnd.nextInt() % n);
}
```

- 그러나 난수를 생성하는 검증된 라이브러리를 사용함으로써 더욱 안정성 있는 코드를 작성할 수 있다.

```java
Random.nextInt(intValue)
```

> **📌 아무 라이브러리나 써도 될까?**<br>
>
> - 이왕이면 표준라이브러리를 쓰자.
> - 표준이 아닌 다른 라이브러리가 필요하다면 아래 링크에서 검색 후 사용자가 많은 버전을 사용하자.
> - [repository 저장소](https://mvnrepository.com/)

- 자바 7부터는 난수를 생성할 때 ThreadLocalRandom를 쓰는게 좋다.

- splittableRandom은 병렬 스트림이나 포크-조인 풀에서 사용할 수 있다.

<br>

## 라이브러리를 사용하면 좋은 점

- 검증된 로직을 사용할 수 있다.

- 핵심적이지 않은 로직은 라이브러리를 사용하여 해결하고, 핵심 로직에만 집중할 수 있다.

- 별도로 개선하지 않아도 버전업이 되면서 성능이 개선된다.

- 라이브러리는 유지보수를 거쳐 점점 기능이 많아진다.

- 다른 개발자에게 낯익은 코드가 되어 유지보수성이 올라간다.

<br>

## 책에서 소개하는 라이브러리

### transferTo 메서드

- transferTo 메서드는 URL이 제공하는 내용을 가져오는 메서드이다.
- 마치 curl을 입력하여 내용을 가져오는 것과 같다.

```java
  public static void main(String[] args) throws IOException {
      try (InputStream in = new URL(args[0]).openStream()) {
          in.transferTo(System.ouf);
      }
  }
```

<br>

### java.util, java.lang, java.io

- 자바를 사용한다면 기본적으로 알아야할 패키지들이다.

<br>

### Google guava, Apache common

- 자바에서 사용하는 대표적인 서드파티 라이브러리이다.

> **📌 그러나 주의해야할 점!**<br>
>
> - 대중적이지 않은 라이브러리를 사용하는데에는 위험이 따른다.
> - 왜냐하면 예상치 못한 버그가 발생할 수도 있고, 시간이 지나서 유지보수가 되지 않을 가능성도 있기 때문이다.
> - 따라서 무작정 라이브러리를 쓰는 것보다는 검증된 라이브러리를 쓰고, 그걸로 충분치 않다면 직접 개발하는 게 유지보수에 나을 수 있다.

<br>

## 라이브러리를 사용할 때 학습 테스트를 이용하자

- 보통 라이브러리가 필요한 시점은 프로덕션 코드를 작성할 때일 것이다.

- 익숙치 않은 라이브러리를 바로 프로덕션 코드에 사용하려 하면 생각보다 테스트가 번거로울 수 있거나, 알고보니 라이브러리가 별로일 때 롤백하기가 귀찮을 수 있다.

- 따라서 라이브러리를 익힐 때는 학습 테스트를 이용하자.

> **📌 학습 테스트란?**<br>
>
> - 학습 테스트란 프레임워크, 라이브러리 등을 학습하고자 할 때 시도한다.
> - 단순히 문서를 읽는 것 뿐 아니라 테스트 코드를 작성함으로써 손으로 기술을 익히고, 다양한 시나리오에 대해 검증하여 정말로 내가 필요한 기술인지 확인할 수 있다.
> - 자바에서는 Junit 프레임워크를 사용하여 손쉽게 학습 테스트를 작성할 수 있다.
