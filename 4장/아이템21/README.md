# μ•„μ΄ν… 21. μΈν„°νμ΄μ¤λ” κµ¬ν„ν•λ” μ½μ„ μƒκ°ν•΄ μ„¤κ³„ν•λΌ

- μλ°” 8 μ΄μ „μ—λ” κΈ°λ³Έ κµ¬ν„μ²΄λ¥Ό κΉ¨λ¨λ¦¬μ§€ μ•κ³ λ” μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  λ°©λ²•μ΄ μ—†μ—λ‹¤.
  
- μλ°” 8 μ΄ν›„μ—λ” κΈ°μ΅΄ μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μλ„λ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ„μ…ν–λ‹¤.
  
    > π“ **λ””ν΄νΈ λ©”μ„λ“λ€?**
    > - λ””ν΄νΈ λ©”μ„λ“λ” μμ „ λ²„μ „μ μΈν„°νμ΄μ¤μ™€ νΈν™λ  μ μμΌλ©΄μ„λ„ μƒλ΅μ΄ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μλ” κ²ƒμ„ μλ―Έν•λ‹¤.

    > - λ‹¤μμ€ κ³µμ‹ λ¬Έμ„μ—μ„ μ κ³µν•λ” λ””ν΄νΈ λ©”μ„λ“μ μ •μμ΄λ‹¤.
    > - `Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.`

<br>

## λ””ν΄νΈ λ©”μ„λ“λ¥Ό κ·Έλƒ¥ μ‚¬μ©ν•λ©΄ λλ”κ±ΈκΉ?
  
- λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ„ μ–Έν•λ©΄ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν›„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¬μ •μ ν•μ§€ μ•μ€ λ¨λ“  ν΄λμ¤μ—μ„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
  
- κ·Έλ¬λ‚ μ΄ λ””ν΄νΈ λ©”μ„λ“λ“¤μ΄ λ¨λ“  κΈ°μ΅΄ κµ¬ν„μ²΄μ™€ λ§¤λ„λ½κ² μ—°λ™λλ¦¬λΌλ” λ³΄μ¥μ€ μ—†λ‹¤.

- μλ°” 8μ—μ„λ” λλ‹¤μ λ„μ…μΌλ΅ μΈν•΄ ν•µμ‹¬ μ»¬λ ‰μ… μΈν„°νμ΄μ¤λ“¤μ— λ‹¤μμ λ””ν΄νΈ λ©”μ„λ“κ°€ μ¶”κ°€λμ—λ‹¤.
  
- λ€λ¶€λ¶„μ μλ°” λΌμ΄λΈλ¬λ¦¬μ— μ‘μ„±λ λ””ν΄νΈ λ©”μ„λ“λ” μ μ‘λ™ν•μ§€λ§ `μƒκ°ν•  μ μλ” λ¨λ“  μƒν™©μ—μ„ λ¶λ³€μ‹μ„ ν•΄μΉμ§€ μ•λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‘μ„±ν•λ” κ²ƒμ€ μ–΄λ µλ‹¤.`

- μλ¥Ό λ“¤μ–΄ apache commonμ SynchronizedCollectionκ°€ μλ‹¤.
  - SynchronizedCollectionλ” ν΄λΌμ΄μ–ΈνΈκ°€ νλΌλ―Έν„°λ΅ μ κ³µν• κ°μ²΄λ¥Ό μ“°λ λ“μ— μ•μ „ν•λ„λ΅ λ™κΈ°ν™”ν•λ” μ—­ν• μ„ ν•λ‹¤.
  - κ·Έλ¬λ‚ νΉμ • λ¦΄λ¦¬μ¦μ—μ„λ” removeIfκ°€ κµ¬ν„λμ§€ μ•μ•λ‹¤. κ·Έλμ„ μƒμ„ μΈν„°νμ΄μ¤μ removeIfλ¥Ό μ‚¬μ©ν•  μ λ°–μ— μ—†λ”λ° κ·Έ removeIf λ©”μ„λ“λ” `λ™κΈ°ν™”` λ΅μ§μ΄ μ‘μ„±λμ–΄ μμ§€ μ•μΌλ―€λ΅ ν΄λμ¤κ°€ μ κ³µν•λ” κΈ°λ¥μ μΌκ΄€μ„±μ„ κΉ¨λ¨λ¦°λ‹¤.
  
  > π“ **μ±…μ— μ†κ°λ SynchronizedCollectionμ— κ΄€ν•μ—¬**
  > - μ±…μ— μ†κ°λ SynchronizedCollectionμ removeIf λ©”μ„λ“μ— κ΄€ν• λ‚΄μ©μ€ 2023.08.22 κΈ°μ¤€ 4.4λ²„μ „μ κµ¬ν„μ²΄μ—μ„λ” removeIfλ¥Ό κµ¬ν„ν•μ€λ‹¤.

  <br>

- λ‹¤μκ³Ό κ°™μ€ μƒν™©μ„ κ°€μ •ν•΄λ³΄μ.
  - MyInterfaceκ°€ μμ—κ³ , MyInterfaceλ¥Ό κµ¬ν„ν• MyImplμ„ μ‘μ„± ν›„ λ°°ν¬ν•μ€λ‹¤.
  - λ°°ν¬ μ΄ν›„ MyImplμ— concat λ©”μ„λ“κ°€ ν•„μ”ν•΄μ„ μ¶”κ°€ν–λ‹¤. (concat λ©”μ„λ“λ” λ΅κ·Έλ¥Ό μ°κ³ , λ¬Έμμ—΄μ„ ν•©μΉλ” κΈ°λ¥μ„ ν•λ‹¤.)
  - κ·Έ μ΄ν›„ MyInterfaceλ¥Ό κµ¬ν„ν• λ¨λ“  κµ¬ν„μ²΄μ—κ² concat λ©”μ„λ“μΈ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ ¤ ν–μ§€λ§, μ΄λ―Έ concatμ΄ κµ¬ν„λμ–΄ μλ” MyImplμ—λ” λ””ν΄νΈ λ©”μ„λ“κ°€ μ μ©λμ§€ μ•λ”λ‹¤. (μμƒμΉ λ»ν• μ—λ¬κ°€ λ°μƒν•λ‹¤κ³  μƒκ°ν•  μ μλ‹¤.)

  ```java
  public class Main {

    public static void main(String[] args) {
      MyImpl myInterface = new MyImpl();

      // MyInterfaceμ concatμ„ κ³µν†µ λ©”μ„λ„λ΅ μ κ³µν–μ§€λ§
      // μ΄λ―Έ μ΅΄μ¬ν–λ MyImplμ concat λ©”μ„λ“κ°€ μ‹¤ν–‰λλ‹¤.
      String result = myInterface.concat("Hello ", "Java");

      System.out.println(result);
    }

    interface MyInterface {
      void print(String message);

      // MyImplμ concatλ³΄λ‹¤ λ‚μ¤‘μ— μ‘μ„±λ ν›„ λ°°ν¬λ λ””ν΄νΈ λ©”μ†λ“μ΄λ‹¤.
      default String concat(String str1, String str2) {
        return str1.concat(str2);
      }
    }

    static class MyImpl implements MyInterface {

      @Override
      public void print(String message) {
        System.out.println(message);
      }

      // MyInterfaceμ concatλ³΄λ‹¤ λ¨Όμ € μ‘μ„±λ ν›„ λ°°ν¬λ λ©”μ†λ“μ΄λ‹¤.
      public String concat(String str1, String str2) {
        System.out.println("MyImpl μ—μ„ μ‹¤ν–‰λ concat λ©”μ„λ“");
        return str1.concat(str2);
      }
    }
  }

  ```

<br>

## λ””ν΄νΈ λ©”μ„λ“λ΅ μΈν• μμƒΉμΉ λ»ν• μ—λ¬λ¥Ό μ²λ¦¬ν•λ” λ°©λ²•

- λ””ν΄νΈ λ©”μ„λ“λ΅ μΈν• μμƒΉμΉ λ»ν• μ—λ¬λ¥Ό μ²λ¦¬ν•λ” λ°©λ²•μ€ κµ¬ν„μ²΄μ—μ„ μ¬μ •μλ¥Ό ν•λ” κ²ƒμ΄λ‹¤.
- 
- λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¬μ •μν•κ³  ν•„μ”ν• λ΅μ§μ„ μ¶”κ°€ μ‘μ„±ν•¨μΌλ΅μ¨ μƒμ„ μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ§ νΈμ¶ν–μ„ λ•μ μμ™Έλ¥Ό μ²λ¦¬ν•  μ μλ‹¤.
  
  > π“ **κ·Έλ¬λ‚ λ‹¨μ μ΄..**
  > - λ§¤ λ² μƒμ„ μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“κ°€ μ¶”κ°€λμ—λ”μ§€ ν™•μΈν•΄μ•Ό ν•λ‹¤. (μ»΄νμΌ μ¤λ¥μ΅°μ°¨ μ•λ‚λ―€λ΅ μΌμΌμ΄ ν™•μΈν•΄μ•Ό ν•¨)
  
  > - λ””ν΄νΈ λ©”μ„λ“λ” μΈν„°νμ΄μ¤μ—μ„ μ κ³µν•λ” κ³µν†µ λ΅μ§μ μ„±κ²©μ΄ κ°•ν•λ°, λ””ν΄νΈ λ©”μ„λ“λ΅ μΈν•΄ μ—λ¬κ°€ λ°μƒν•λ” κµ¬ν„μ²΄λ§λ‹¤ μ¬μ •μλ¥Ό ν•΄μ•Όν•λ―€λ΅ λ²κ±°λ΅­λ‹¤.

  <br>

## κ·Έλ¬λ‹κΉ μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ν•  λ•λ” μ„Έμ‹¬ν• μ£Όμλ¥Ό κΈ°μΈμ΄μ.

- μƒλ΅μ΄ μΈν„°νμ΄μ¤λΌλ©΄ λ¦΄λ¦¬μ¦ μ „μ— λ°λ“μ‹ μ—¬λ¬ μΆ…λ¥μ κµ¬ν„μ²΄λ¥Ό λ§λ“¤μ–΄λ³΄κ³  μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈλ„ λ§λ“¤μ–΄λ΄μ•Ό ν•λ‹¤.

- μΈν„°νμ΄μ¤λ¥Ό λ¦΄λ¦¬μ¦ ν• μ΄ν›„μ—λ„ κ²°ν•¨μ„ μμ •ν•λ” κ²ƒμ΄ κ°€λ¥ν• κ²½μ°λ„ μκ² μ§€λ§, μ λ€ κ·Έ κ°€λ¥μ„±μ— κΈ°λ€μ„  μ•λλ‹¤.