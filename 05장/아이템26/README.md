# μ•„μ΄ν… 26. λ΅ νƒ€μ…μ€ μ‚¬μ©ν•μ§€ λ§λΌ

## λ΅ νƒ€μ…μ΄λ€?

> `μ λ„¤λ¦­` ν΄λμ¤ μ—μ„ `νƒ€μ… λ§¤κ°λ³€μ`λ¥Ό μ „ν€ μ‚¬μ©ν•μ§€ μ•μ€ κ²ƒ.

* μ λ„¤λ¦­: ν΄λμ¤λ¥Ό μ •μν•  λ•, κµ¬μ²΄μ μΈ νƒ€μ…(type)μ„ μ μ§€ μ•κ³  λ³€μ ν•νƒλ΅ μ μ–΄ λ†“λ” κ²ƒ. 

* νƒ€μ… λ§¤κ°λ³€μ: μ λ„¤λ¦­ ν΄λμ¤μ—μ„ νƒ€μ…μ„ λ³€μμ²λΌ λ€μ…ν•΄ μ‚¬μ©ν•λ” λ§¤κ°λ³€μ.

    * μΆ…λ¥: <br>
        E β€“ Element <br>
        K β€“ Key <br>
        N β€“ Number <br>
        T β€“ Type <br>
        V β€“ Value <br>

```JAVA
// μλ°” List μΈν„°νμ΄μ¤
public interface List<E> extends Collection<E> {
    ...
}
```

μ‰½κ² λ§ν•΄, λ΅ νƒ€μ…μ€ λ‹¤μ΄μ•„λ¬λ“λΌκ³  λ¶λ¦¬λ” `<>`, μ΄κ² λ¶™μ§€ μ•κ³  λ§λ“¤μ–΄μ§„ μ λ„¤λ¦­ ν΄λμ¤ μΈμ¤ν„΄μ¤λ¥Ό μλ―Έν•λ‹¤. 

```Java

public static void main(String[] args) {
    List rawList = new ArrayList();
}

```

### μ™ λ΅ νƒ€μ…μ„ μ‚¬μ©ν•λ©΄ μ•λ κΉ?

* λ””λ²„κΉ…μ΄ νλ“¤μ–΄μ§„λ‹¤. 
    
    νƒ€μ… μ•μ •μ„±μ΄ λ–¨μ–΄μ§€κΈ° λ•λ¬Έμ΄λ‹¤. ν•΄λ‹Ή μΈμ¤ν„΄μ¤μ— μλ„ν•μ§€ μ•μ€ νƒ€μ…μ΄ μ‹¤μλ΅ λ“¤μ–΄κ°€λ„, μ»΄νμΌ μ‹μ— μ—λ¬λ¥Ό λ‚΄μ§€ μ•κ³ , λ°νƒ€μ„μ—, κ·Έκ²ƒλ„ λ€λ¶€λ¶„μ€ μ‹¤μν• μ½”λ“μ™€ λ¨Ό κ³³μ—μ„ μ—λ¬κ°€ λ°μƒν•λ‹¤. λ””λ²„κΉ…μ„ μ–΄λ µκ² ν•λ” μ›μΈμ΄ λμ–΄λ²„λ¦°λ‹¤.

    μ λ„¤λ¦­ νƒ€μ…μ„ μ‚¬μ©ν•λ©΄ μ»΄νμΌλ¬κ°€ ν•΄λ‹Ή μΈμ¤ν„΄μ¤κ°€ μ‚¬μ©ν•  νƒ€μ…μ„ μ• μ μκ³ , μ»΄νμΌ ν•  λ• νƒ€μ… μ¤λ¥λ¥Ό μ΅μ•„λ‚Ό μ μκ² λλ” κ²ƒμ΄λ‹¤.

    ```JAVA
    class FailingClass {
        public static void main(String[] args) {
            List<BigDecimal> bigNumbers = new ArrayList<>();

            ...

            BigInteger bigNumber = new BigInteger(98765432123456789) // λ°μ‹λ©€μ΄ μ•„λ‹ μΈν‹°μ €λ‹¤.

            doSomethingWithList(bigNumbers, bigNumber);

            ...

            BigDecimal s = bigNumbers.get(0); // λ°νƒ€μ„ μ¤λ¥κ°€ μ—¬κΈ°μ„ λ‚κ² λλ‹¤.
        }

        private static void doSomethingWithList(List list, Object o) {

            ...

            list.add(o);
        }
    }
    ```

### κ·Έλ ‡λ‹¤λ©΄ μ™ λ΅ νƒ€μ…μ΄ μ΅΄μ¬ν•λ” κ±ΈκΉ?

λ°”λ΅ νΈν™μ„± λ•λ¬Έμ΄λ‹¤.

μλ°”λ” μ²« μ¶μ‹ μ΄ν›„ μ λ„¤λ¦­μ΄ λ‚μ¤κΈ°κΉμ§€ 10λ…„μ΄ κ±Έλ Έλ”λ°, κ·Έ κΈ°κ°„ λ™μ• μ΄λ―Έ μ λ„¤λ¦­ μ—†μ΄ μ§  μ½”λ“κ°€ λ„λ¬΄ λ§μ•„μ Έ λ²„λ Έλ‹¤. λ΅ νƒ€μ…μ€ μ λ„¤λ¦­μ„ λ„μ…ν•λ©΄μ„λ„ κΈ°μ΅΄ μ½”λ“κ°€ λ¬Έμ μ—†μ΄ λ™μ‘ν•λ„λ΅ ν•κΈ° μ„ν•΄ μƒκ²¨λ‚ κ²ƒμ΄λ‹¤.

### μ΄λ° κ²½μ°μ—” λ΅ νƒ€μ… μ¨λ„ λμ§€ μ•μ„κΉ?

1. λ¨λ“  κ°μ²΄λ¥Ό ν—μ©ν•λ” κ² μλ„ν• κ±°λΌμ„, \<Object>λ¥Ό λ¶™μ΄μ§€ μ•κ³  λ΅ νƒ€μ…μ„ μ“°κ³  μ‹¶μ€ κ²½μ°

μ•λλ‹¤. μ λ„¤λ¦­μΌλ΅ \<Object>λ¥Ό λ„£μ–΄ μ„ μ–Έν•λ” κ²ƒμ€ μ»΄νμΌλ¬μ—κ² Objectλ¥Ό ν—μ©ν•λ‹¤κ³  μλ„λ¥Ό μ „λ‹¬ν• κ²ƒμ΄μ§€λ§, λ΅ νƒ€μ…μΌλ΅ μ„ μ–Έν•λ©΄ νƒ€μ… μ²΄ν¬λ¥Ό μ™„μ „ν ν¬κΈ°ν• κ²ƒμ΄λ‹¤.

μλ¥Ό λ“¤μ–΄, Listλ΅ μ„ μ–Έλ λ³€μλ” List\<String> κ°μ²΄λ„, List\<Integer> κ°μ²΄λ„ λ°›μ„ μ μμ§€λ§, List\<Object>λ΅ μ„ μ–Έλ λ³€μλ” List\<Object>λ¥Ό μ μ™Έν• λ‹¤λ¥Έ κ°μ²΄λ” λ°›μ„ μ μ—†λ‹¤.

2. μ–΄μ°¨ν”Ό μ›μ†λ” κ±΄λ“λ¦¬μ§€λ„ μ•μ„ κ±°λΌμ„, μ›μ†μ νƒ€μ…μ„ λ°λΌλ„ λλ” κ²½μ° 

μ—­μ‹ μ•λλ‹¤. μ•„λ¬΄λ¦¬ μΈν„°νμ΄μ¤ μ‘μ„±μκ°€ μ›μ†λ¥Ό κ±΄λ“λ¦¬μ§€ λ§λΌκ³  ν•΄λ„, λ©”μ„λ“ λ§¤κ°λ³€μλ¥Ό λ΅ νƒ€μ…μΌλ΅ μ‘μ„±ν•λ‹¤λ©΄, λ‹¤λ¥Έ νƒ€μ…μ μ›μ†λ¥Ό λ„£λ”κ±Έ λ§‰μ„ μ μ—†λ‹¤. μ΄λ¥Ό 'νƒ€μ… λ¶λ³€μ‹μ΄ ν›Όμ†λλ‹¤'κ³  ν•λ‹¤.

```JAVA
public interface RawTypeInterface {
    void doSomethingWithSetSize(Set set);
}

class RawTypeInterfaceImpl implements RawTypeInterface {

    @Override
    public void doSomethingWithSetSize(Set set) {
        int setSize = set.size();

        ...

        set.add(1); // μ›λ Setμ΄ <String>μ„ λ‹΄κ³  μμ–΄λ„, μ¤λ¥λ¥Ό λ‚΄μ§€ μ•λ”λ‹¤.
    }
}

```

μ λ„¤λ¦­μΌλ΅ λ§λ“¤λ©΄ μ΄λ¥Ό λ§‰μ„ μ μλ” λ°©λ²•μ΄ μ΅΄μ¬ν•λ‹¤. λ°”λ΅ `λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…`μ„ μ‚¬μ©ν•λ” κ²ƒμ΄λ‹¤. λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…μ„ μ‚¬μ©ν•΄ λ§λ“¤μ–΄μ§„ μ»¬λ ‰μ…μ—λ” null μ™Έμ—λ” μ–΄λ–¤ μ›μ†λ„ λ„£μ„ μ μ—†λ‹¤. λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“λ” `?`λ΅ ν‘μ‹ν•λ‹¤.

```JAVA
public interface UnboundWildcardTypeInterface {
    void doSomethingWithSetSize(Set<?> set);
}

class UnboundWildcardTypeInterfaceImpl implements UnboundWildcardTypeInterface {

    @Override
    public void doSomethingWithSetSize(Set<?> set) {
        int setSize = set.size();

        ...

        set.add(1); // μ—¬κΈ°μ„ μ»΄νμΌ μ¤λ¥λ¥Ό λ‚Έλ‹¤.
    }
}
```

### κ·ΈλΌ μμ™Έ μ—†μ΄ λ΅ νƒ€μ…μ€ μ“°λ©΄ μ•λλ” κ±ΈκΉ?

λ”± λ‘ κ°€μ§€ μμ™Έκ°€ μ΅΄μ¬ν•λ‹¤.

1. κ°μ²΄μ ν΄λμ¤ μμ²΄λ¥Ό ν™•μΈν•λ” `class λ¦¬ν„°λ΄`

    `List.class`, `Set.class` λ“±

2. κ³„μΈµκµ¬μ΅°λ¥Ό ν™•μΈν•λ” `instanceof μ—°μ‚°μ`  

    `if (o instanceof Set)` λ“±

> **π“ μ°Έκ³ **<br><br>
> λ‹¤μμ€ 5μ¥ λ‚΄λ‚΄ μ‚¬μ©ν•  μ©μ–΄μ— κ΄€ν• μ •λ¦¬ ν‘μ΄λ‹¤.
> |ν•κΈ€ μ©μ–΄|μλ¬Έ μ©μ–΄|μμ‹|λ“±μ¥ μ¥μ†|
> |:-:|:-:|-|-|
> |λ§¤κ°λ³€μν™” νƒ€μ…|parameterized type|List\<String>|μ•„μ΄ν… 26|
> |μ‹¤μ  νƒ€μ… λ§¤κ°λ³€μ|actual type parameter|String|μ•„μ΄ν… 26|
> |μ λ„¤λ¦­ νƒ€μ…|generic type|List\<E>|μ•„μ΄ν… 26, 29|
> |μ •κ· νƒ€μ… λ§¤κ°λ³€μ|formal type parameter|E|μ•„μ΄ν… 26|
> |λΉ„ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…|unbounded wildcard type|List\<?>|μ•„μ΄ν… 26|
> |λ΅ νƒ€μ…|unbounded wildcard type|List|μ•„μ΄ν… 26|
> |ν•μ •μ  νƒ€μ… λ§¤κ°λ³€μ|bounded type parameter|\<E extends Number>|μ•„μ΄ν… 29|
> |μ¬κ·€μ  νƒ€μ… ν•μ •|recursive type bound|\<T extends Comparable\<T>>|μ•„μ΄ν… 30|
> |ν•μ •μ  μ™€μΌλ“μΉ΄λ“ νƒ€μ…|bounded wildcard type|List\<? extends Number>|μ•„μ΄ν… 31|
> |μ λ„¤λ¦­ λ©”μ„λ“|generic method|static \<E> List\<E> asList(E[] a)|μ•„μ΄ν… 30|
> |νƒ€μ… ν† ν°|type token|String.class|μ•„μ΄ν… 33|