# 아이템 71. 필요 없는 검사 예외 사용은 피하라

검사 예외는 발생한 문제를 프로그래머가 처리하여 안전성을 높이게끔 해준다.

어떤 메서드가 검사 예외를 던질 수 있다고 선언됐다면, <br>
이를 호출하는 코드에서는 catch 블록을 두어 그 예외를 붙잡아 처리하거나 더 바깥으로 던져 문제를 전파해야 한다.

하지만 검사 예외는 그 예외를 던지는 메서드를 스트림 안에서 직접 사용할 수 없어, API 사용자에게 부담을 준다.

(아래의 그림처럼 스트림 밖에서 try-catch블록으로 처리하는 것도 안된다.)

![image](https://github.com/TaemHam/effective-java-study/assets/95671168/d29e00df-861c-4186-9d02-5753190b4314)


### 검사 예외를 회피하는 방법

1. 적절한 결과 타입을 담은 옵셔널을 반환 

검사 예외를 던지는 대신 빈 옵셔널을 반환하면 된다. 

예외를 사용하면 구체적인 예외 타입과 그 타입이 제공하는 메서드들을 활용해 부가 정보를 제공할 수 있지만, <br>
옵셔널은 예외가 발생한 이유를 알려주는 부가 정보를 담을 수 없다. 

2. 검사 예외를 던지는 메서드를 2개로 쪼개 비검사 예외로 변환

현재 호출할 수 있는 상태인지를 boolean으로 반환하는 "상태 검사 메서드"를 만들어 if 문 조건으로 달아 놓고, <br>
예외를 던질 수 있는 메서드를 해당 if 문 안에 넣는 방식으로 바꿀 수 있다.

```JAVA
try {
    obj.action(args);
} catch (TheCheckedException e) {
    ... // 예외 상황에 대처한다.
}
```

위의 코드를 리팩터링하면 아래처럼 바뀐다.

```JAVA
if (obj.actionPermitted(args)) {
    obj.action(args);
} else {
    ...
}
```

모든 상황에 적용할 수 있는 것도 아니고 더 깔끔해진 것도 아니지만, 더욱 유연해진 것은 확실하다.
